# Developer Documentation

## Available Scripts

- `postinstall`: Sets up Husky for Git hooks
- `pull-env`: Pulls environment variables for development
- `dev`: Starts the development server (port 3000)
- `build`: Builds the project
- `preview`: Previews the production build
- `format`: Formats code using Prettier (with Svelte and Pug plugins)
- `lint`: Lints code using ESLint (JavaScript, TypeScript, Svelte, and CommonJS)
- `check`: Syncs SvelteKit and validates TypeScript configuration
- `type-check`: Performs TypeScript type checking
- `check:watch`: Watches for changes while checking TypeScript and syncing SvelteKit
- `proxy`: Creates an ngrok tunnel with a specific domain for development

## Local Development

### Prerequisites

1. [Git](https://git-scm.com/downloads)
2. [Node.js](https://nodejs.org/en/download/package-manager)
3. [pnpm](https://pnpm.io/installation)

### Basic Setup

1. Clone this repository
2. Install dependencies: `pnpm install`
3. Pull environment variables: `pnpm pull-env`

### Additional Configuration

The application requires two environment variables for the check-run retrigger functionality:

- `TRIGGER_SERVER_URL`
- `TRIGGER_SERVER_SECRET`

These variables are not generated by the `pull-env` script. You have two options:

1. **Full Functionality Setup**:

   - Set up [pr-time-tracker-webhooks](https://github.com/holdex/pr-time-tracker-webhooks) locally
   - Add to `.env`:
     ```
     TRIGGER_SERVER_URL=<your-local-webhook-server-url>
     TRIGGER_SERVER_SECRET=<your-local-webhook-secret>
     ```

2. **Partial Functionality Setup**:
   - Comment out the code that uses these variables if you don't need the check-run retrigger feature

### Running the Application

1. Start the proxy: `pnpm proxy` (required for GitHub login)
2. Start the development server: `pnpm dev`
3. Visit the app at `https://alert-seemingly-moccasin.ngrok-free.app`

### Troubleshooting

1. [Cannot submit time](./docs/cannot-submit-time/not-found.md)
